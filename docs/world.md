# TODO
- There will be a way to create a module (or multiple modules) in thier own repo, and from the game project, specify that repo to include its modules as extensions.


# Dev Side
- Developing a game will be done by cloning this project (the engine) and using the editor (which is in a separate repo) to edit the world files.
- The src/game/ is where the developer can write their code, and their scripts, and they shouldn't really touch any of the engine's source.

# Compiled Game

So a final compiled game will look like this:
- modules/
  - all the modules needed to run the game as well as compiled game data
- user/
  - assets/
    - moddable assets and levels
  - scripts/
    - moddable scripts
- mods/
    - mod1/
        - assets/
            - moddable assets and levels
        - scripts/
            - moddable scripts
        - config.json - Config and metadata for the mod
    - mod2/
        - same as above
- Spectral.PLATFORM.exe
- dyndata/
    - game logs (generated by the game logger), save and game settings, as well as engine logs (created from stdout or the engine logger)
- lib/
    - all the libraries needed to run the game
- engine/
    - engine settings
- cache/
    - cached data

# Implementation
The engine is split into 3 parts:
- Runtime: The part of the engine that runs the game. This contains all the modules, and the main executable. This part is compiled into the engine exe, and the module dlls
- Editor: This is the last part that I will make, and it will be used to create and edit the game file (in the dev format json). This part will be a completely separate program, but will borrow some of the modules from the runtime
- Compiler: This part is used to compile the game into the runtime format. This part will integrate with CMake, and will be used to make a game project into a game dll. This part will be put in the game/ directory of the output from the first part.

The Compiler will be written in C++ or Python (idk yet) and it will be in the same directory as the Runtime.
A developer will clone the runtime to create their game. (MAYBE)

Maybe instead of cloning, they will make their own repo, and use FetchContent to get the required libraries and compiler from the Runtime repo.

The Editor is in a separate repo, and does not exist yet.

# Some Ideas
The engine will also make a mods/ folder, where the user can place mods which will contain replacements for the assets in the moddable folder. The engine will hash every dll (modules, user scripts, and levels) as well as the moddable scripts. and will prevent the game from running if any of these files are modified
When the engine loads (on computers only, consoles do not support mods and selection of api), it will open up a popup letting the user select which modules to use, and mods to enable (if any)
This will allow the user to select things like OpenGL or DirectX. and will allow them to add custom modules. For example: If the user wanted to use vulkan, and someone made a vulkan module, they could add the vulkan module to the modules folder, and select it in the engine settings (this will give a warning that the module is not official, and could be dangerous)
The engine will never select a non-official module by default, and will always open the config popup if the user doesn't click "don't show this again"
If the user selects a non-official module, and then "don't show this again", it will still be shown to give the user a warning that they are using a non-official module
This popup menu is completely seperate from the rest of the engine, and will be run before anything else in the engine is loaded.
So the engine can recognize official modules, when the engine is compiled, it will hash all the official modules, and the hash will be stored inside of the engine executable. When the engine is run, it will verify that the official modules have not been modified, and if they have, it will act as if that module is non-official
The engine executable and official modules will all be the same for every game, since the game is actually just a few dlls.